---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "freeipa Provider"
subcategory: ""
description: |-
  Provider for managing FreeIPA resources with support for both password and Kerberos/keytab authentication.
---

# freeipa Provider

The FreeIPA provider allows Terraform to manage FreeIPA resources. It supports two authentication methods:
- Username/password authentication (default)
- Kerberos/keytab authentication (recommended for automation)

## Example Usage - Password Authentication

```terraform
provider "freeipa" {
  host     = "ipa.example.com"
  username = "admin"
  password = "secretpassword"
  insecure = false
}
```

## Example Usage - Keytab Authentication

```terraform
provider "freeipa" {
  host = "ipa.example.com"

  kerberos_enabled   = true
  kerberos_principal = "terraform/ipa.example.com@EXAMPLE.COM"
  kerberos_realm     = "EXAMPLE.COM"
  keytab_path        = "/etc/krb5.keytab"
  krb5_conf_path     = "/etc/krb5.conf"
}
```

## Example Usage - Environment Variables

```terraform
# Set these environment variables:
# export FREEIPA_HOST="ipa.example.com"
# export FREEIPA_KERBEROS_ENABLED="true"
# export FREEIPA_KERBEROS_PRINCIPAL="terraform/ipa.example.com@EXAMPLE.COM"
# export FREEIPA_KERBEROS_REALM="EXAMPLE.COM"
# export FREEIPA_KEYTAB="/etc/krb5.keytab"
# export FREEIPA_KRB5_CONF="/etc/krb5.conf"

provider "freeipa" {
  # Configuration will be read from environment variables
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `host` (String) FreeIPA host to connect to. Can also be set via `FREEIPA_HOST` environment variable.
- `insecure` (Boolean) Set to true to disable FreeIPA host TLS certificate verification. Can also be set via `FREEIPA_INSECURE` environment variable. Default: `false`
- `kerberos_enabled` (Boolean) Use Kerberos/keytab authentication instead of username/password. Can also be set via `FREEIPA_KERBEROS_ENABLED` environment variable. Default: `false`
- `kerberos_principal` (String) Kerberos principal to use when kerberos_enabled is true. Can also be set via `FREEIPA_KERBEROS_PRINCIPAL` environment variable.
- `kerberos_realm` (String) Kerberos realm to use when kerberos_enabled is true. Can also be set via `FREEIPA_KERBEROS_REALM` environment variable.
- `keytab_path` (String) Path to keytab file to use for Kerberos authentication. Can also be set via `FREEIPA_KEYTAB` environment variable. Default: `/etc/krb5.keytab`
- `krb5_conf_path` (String) Path to krb5.conf to use for Kerberos authentication. Can also be set via `FREEIPA_KRB5_CONF` environment variable. Default: `/etc/krb5.conf`
- `password` (String, Sensitive) Password to use for connection. Can also be set via `FREEIPA_PASSWORD` environment variable. Required when `kerberos_enabled` is false.
- `username` (String) Username to use for connection. Can also be set via `FREEIPA_USERNAME` environment variable. Required when `kerberos_enabled` is false.

## Authentication Methods

### Password Authentication

When `kerberos_enabled` is `false` or not set, the provider uses username/password authentication:

```hcl
provider "freeipa" {
  host     = "ipa.example.com"
  username = "admin"
  password = var.freeipa_password
}
```

**Required fields:**
- `host`
- `username`
- `password`

### Keytab Authentication

When `kerberos_enabled` is `true`, the provider uses Kerberos/keytab authentication:

```hcl
provider "freeipa" {
  host               = "ipa.example.com"
  kerberos_enabled   = true
  kerberos_principal = "terraform/ipa.example.com@EXAMPLE.COM"
  kerberos_realm     = "EXAMPLE.COM"
  keytab_path        = "/etc/krb5.keytab"
}
```

**Required fields:**
- `host`
- `kerberos_enabled` (must be `true`)
- `kerberos_principal`
- `kerberos_realm`
- `keytab_path`

**Optional fields:**
- `krb5_conf_path` (defaults to `/etc/krb5.conf`)

### Creating a Keytab for Terraform

To create a dedicated service principal and keytab for Terraform:

```bash
# On the FreeIPA server, create a service principal
ipa service-add terraform/ipa.example.com

# Generate a keytab
ipa-getkeytab -s ipa.example.com \
  -p terraform/ipa.example.com@EXAMPLE.COM \
  -k /path/to/terraform.keytab

# Grant necessary permissions (adjust based on your requirements)
ipa role-add-member "User Administrator" --services=terraform/ipa.example.com
```
